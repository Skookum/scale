
feature_width = 150px
feature_text_color = light_text
feature_hover_color = color4
feature_hover_text_color = med_text
active_feature_text_color = feature_hover_text_color
story_color = color1
chore_color =color3
bug_color = color5
hover_lighten_amount = 5%
add_new_color = color3


.world
  background two-stop-position(#fefefe, #ababab, 100%)
  padding 0
  position absolute
  bottom 0px
  left 0
  right 0
  top 0px
  z-index -1
  overflow auto

ul.quarry
  vertical-align bottom
  -webkit-overflow-scrolling touch
  white-space nowrap
  margin 0
  padding 100px 400px 0 100px
  text-align center
  position absolute
  left 0
  bottom 0
  min-width 101%
  max-height 100%
  li.stack
    inline-block()
    ul
      margin 0 auto
      padding 50px 0 0
      list-style-type none
      white-space normal
  li.feature
    transition(all .2s ease-in-out)
    position relative
    margin 3px
    padding 5px
    width feature_width
    height 75px
    border-radius 3px
    background story_color
    color feature_text_color
    text-align left
    &.chore
      background chore_color
      &:hover
        background lighten(chore_color, hover_lighten_amount)
      &.active, &.active:hover
        background darken(chore_color, hover_lighten_amount)
    &.bug
      background bug_color
      &:hover
        background lighten(bug_color, hover_lighten_amount)
      &.active, &.active:hover
        background darken(bug_color, hover_lighten_amount)
    &:hover
      background lighten(story_color, hover_lighten_amount)
      color feature_hover_text_color
      cursor pointer
      z-index 999
    &.active
      transition(all .2s ease-in-out)
      z-index 999
      box-shadow 0 0 25px -5px #000
      background lighten(story_color, hover_lighten_amount)
      color active_feature_text_color
      height 300px
      .details, .delete
        show_with_transition()
      .points, .name
        hide_with_transition()
    &.dependant
      inline-block()
    &.addnew
      background none
      border 2px dashed add_new_color
      color add_new_color
      position relative
      z-index 1
      cursor pointer
      opacity .3
      &:after
        content "+"
        font-size 90px
        position absolute
        top -25px
        right 0
        bottom 0
        left 0
        font-weight bold
        text-align center
    &.removing
      height 0
      padding-top 0
      padding-bottom 0
      border none
    &:last-child
      font-weight bold
    .delete
      visibility hidden
      opacity 0
      position fixed
      top   -5px
      right -5px
      background #333
      color #ccc
      border-radius 15px
      width  23px
      height 23px
      padding 2px 6px
      font-size 18px
    .points, .name
      visibility visible
      opacity 1
    .points
      position absolute
      bottom 15px
      right 5px
      color rgba(255,255,255,0.15)
      font-size 40px
    .details
      visibility hidden
      opacity 0
      position absolute
      top 0
      left 0
      width 465px
      height 100%
      overflow hidden
      margin 10px
      color active_feature_text_color
      section
        inline-block()
        width 50%
        padding 5px 5px 10px 10px
        vertical-align top
        top 0
        min-height 90%
        &:last-child
          border-left 1px solid #aaa
      h2
        color active_feature_text_color
        margin-bottom 5px
        font-size 16px
        position relative
        button
          position relative
          top -2px
          left 10px
          padding  2px 8px
      ul
        list-style-type none
        margin 0
        padding 3px 0
        overflow auto
        height 190px
        li
          margin 5px 0
          input
            padding 5px
      input, select, textarea
        display block
        width 95%
        padding 3px
        font-size 14px
        border-radius 5px
        border 1px solid #777
        background #fff
        height auto
        margin 5px 0
input
  height auto
